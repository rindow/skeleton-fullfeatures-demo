<?php
require 'init_autoloader.php';
//$moduleManager = new Rindow\Container\ModuleManager(require 'config/webapp.config.php');
//$database = $moduleManager->getServiceLocator()->get('Rindow\Database\AdapterManager');
//$cursor = $database->query("select * from product",array(),'Acme\MyApp\Entity\Product');
//$cursor = $database->query("select * from product",array());
//$cursor = $database->getConnection()->query("select * from color",array());
//$database->execute("insert into product (id,category,name,radio) values (1,2,'a',1)",array());
//$database->execute("update product set category = 2 where id = 3",array());
//$db = $database->getConnection()->getDB();
//$collection = $db->selectCollection('test');
//echo spl_object_hash($collection)."\n";
//$collection2 = $db->selectCollection('test');
//echo spl_object_hash($collection2)."\n";
//$collection3 = $db->test;
//echo spl_object_hash($collection3)."\n";
//$collection4 = $db->test;
//echo spl_object_hash($collection4)."\n";

//$paginator = new Rindow\Database\Paginator($database);
//$paginator->setQuery("select * from product",array(),'Acme\MyApp\Entity\Product')
//          ->setCountQuery("select count(id) as count from product")
//          ->setItemMax(5)
//          ->setPage(0);
//echo 'total item='.$paginator->getTotalItem()."\n";
//echo 'total page='.$paginator->getTotalPage()."\n";
//echo 'page='.$paginator->getPage()."\n";

//$cursor = $paginator;

//foreach($cursor as $result) {
//	print_r($result);
//}
